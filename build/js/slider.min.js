const reviewsContainer=document.querySelector(".reviews__reviews-list"),trainersContainer=document.querySelector(".trainers__trainers-list"),page=document.querySelector(".page"),reviewsPrevButton=document.querySelector(".reviews__button--prev"),reviewsNextButton=document.querySelector(".reviews__button--next"),trainersPrevButton=document.querySelector(".trainers__button--prev"),trainersNextButton=document.querySelector(".trainers__button--next"),getCurrentReviews=()=>[...reviewsContainer.querySelectorAll(".reviews__review")],getCurrentTrainers=()=>[...trainersContainer.querySelectorAll(".trainers__trainer")];let reviewsTouchStartX,trainersTouchStartX,trainerTarget;const shiftElementAtStart=(e,t,r)=>{let n=e();const i=n[n.length-1],s=i.cloneNode(!0),a=n[0];i.remove(),t.insertBefore(s,a),n=e(),n[1].scrollIntoView({behavior:"instant",block:"nearest",inline:r})};shiftElementAtStart(getCurrentTrainers,trainersContainer,"start"),shiftElementAtStart(getCurrentReviews,reviewsContainer,"center");const slideLeft=(e,t,r)=>{let n=e();const i=n[n.length-1],s=i.cloneNode(!0),a=n[0];i.remove(),t.insertBefore(s,a),n=e(),n[2].scrollIntoView({behavior:"instant",block:"nearest",inline:r}),n[1].scrollIntoView({behavior:"smooth",block:"nearest",inline:r})},slideRight=(e,t,r)=>{let n=e();const i=n[0],s=n[0].cloneNode(!0);i.remove(),t.appendChild(s),n=e(),n[0].scrollIntoView({behavior:"instant",block:"nearest",inline:r}),n[1].scrollIntoView({behavior:"smooth",block:"nearest",inline:r})},handleTouchSwipe=(e,t,r,n,i)=>{e>t&&slideRight(r,n,i),e<t&&slideLeft(r,n,i)};reviewsPrevButton.addEventListener("click",(()=>{slideLeft(getCurrentReviews,reviewsContainer,"center")})),reviewsNextButton.addEventListener("click",(()=>{slideRight(getCurrentReviews,reviewsContainer,"center")})),reviewsContainer.addEventListener("touchstart",(e=>{e.preventDefault(),reviewsTouchStartX=e.changedTouches[0].screenX,page.classList.add("page--without-scroll")})),reviewsContainer.addEventListener("touchend",(e=>{const t=e.changedTouches[0].screenX;handleTouchSwipe(reviewsTouchStartX,t,getCurrentReviews,reviewsContainer,"center"),page.classList.remove("page--without-scroll")})),trainersPrevButton.addEventListener("click",(()=>{slideLeft(getCurrentTrainers,trainersContainer,"start")})),trainersNextButton.addEventListener("click",(()=>{slideRight(getCurrentTrainers,trainersContainer,"start")})),trainersContainer.addEventListener("touchstart",(e=>{const t=e.target.closest(".trainers__trainer");t&&(e.preventDefault(),trainerTarget=t,trainerTarget.classList.add("trainers__trainer--on-swiping"),page.classList.add("page--without-scroll"),trainersTouchStartX=e.changedTouches[0].screenX)})),trainersContainer.addEventListener("touchend",(e=>{const t=e.changedTouches[0].screenX;Math.abs(trainersTouchStartX-t)<2?trainerTarget.focus():handleTouchSwipe(trainersTouchStartX,t,getCurrentTrainers,trainersContainer,"start"),trainerTarget.classList.remove("trainers__trainer--on-swiping"),trainerTarget=null,trainersTouchStartX=null,page.classList.remove("page--without-scroll")}));